(function(t){function e(e){for(var r,i,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},n={app:0},s=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("85ec"),n=a.n(r);n.a},4678:function(t,e,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=s(t);return a(e)}function s(t){if(!a.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}n.keys=function(){return Object.keys(r)},n.resolve=s,t.exports=n,n.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("img",{staticClass:"background"}),a("navbar"),a("router-view")],1)},s=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar"},[t.$store.state.admin?t._e():a("a",{staticClass:"link",on:{click:t.login}},[t._v("Admin")]),t.$store.state.admin&&"/admin"!=t.$route.path?a("a",{staticClass:"link"},[a("router-link",{attrs:{to:"/admin"}},[t._v("Menu")])],1):t._e(),t.$store.state.admin?a("a",{staticClass:"link",on:{click:function(e){t.$store.commit("logout"),t.$router.push("/")}}},[t._v("Déconnexion")]):t._e()])},o=[],l={methods:{login:function(){var t=prompt("Mot de passe");"admin"==t?(this.$store.commit("login"),this.$router.push("/admin")):alert("Mot de passe incorrect")}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,o,!1,null,null,null),p=d.exports,m={components:{Navbar:p}},f=m,v=(a("034f"),Object(u["a"])(f,n,s,!1,null,null,null)),h=v.exports,b=a("8c4f"),g=a("2f62");r["a"].use(g["a"]);var w,j,_,y,k,C,N,A,x=new g["a"].Store({state:{admin:!1},mutations:{login:function(t){t.admin=!0},logout:function(t){t.admin=!1}}}),D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"main-content flight-content"},[0==t.flightsShown.length&&t.loaded?a("div",[t._v("Aucun vol à afficher")]):t._e(),t.flightsShown?a("div",{staticClass:"flights"},t._l(t.flightsShown,(function(e){return a("div",{key:e.id,staticClass:"flight"},[a("strong",{staticClass:"item"},[t._v(" Vol "+t._s(t.showAirportFullName(e.departureAirport))+" -> "+t._s(t.showAirportFullName(e.arrivalAirport))+" ")]),a("div",{staticClass:"item"},[a("strong",[t._v(" Départ : ")]),t._v(t._s(t.showDate(e.departureDate))+" "),a("strong",[t._v(" Arrivée :")]),t._v(" "+t._s(t.showDate(e.arrivalDate))+" ")]),a("div",{staticClass:"item"},[t._v(" "+t._s(e.emptyPlaces>0?e.emptyPlaces+" places encore disponibles":"Vol complet !")+" ")]),a("div",{staticClass:"item price"},[t._v(t._s(e.price/100)+"€")]),t.$store.state.admin?a("div",{staticClass:"admin-buttons"},[a("a",{staticClass:"delete-button",on:{click:function(a){return t.deleteFlight(e.id)}}},[a("i",{staticClass:"mdi mdi-trash-can-outline"})]),a("a",{staticClass:"details-button",on:{click:function(a){return t.detailsFlight(e.id)}}},[a("i",{staticClass:"mdi mdi-information-outline"})])]):t._e(),!t.$store.state.admin&&e.emptyPlaces>0?a("div",{staticClass:"admin-buttons"},[a("a",{staticClass:"book-button",on:{click:function(a){return t.bookFlight(e.id)}}},[t._v("Réservez ce vol")])]):t._e()])})),0):t._e()]),a("div",{staticClass:"search-bar"},[t._v(" Recherche de vol : de "),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"dropbtn"},[t._v(" "+t._s(t.departureAirportWanted?t.departureAirportWanted:"Départ...")+" ")]),a("div",{staticClass:"dropdown-content"},t._l(t.departureAirports,(function(e){return a("a",{key:e.id},[a("a",{on:{click:function(a){t.departureAirportWanted=e}}},[t._v(t._s(e))])])})),0)]),t._v(" vers "),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"dropbtn"},[t._v(" "+t._s(t.arrivalAirportWanted?t.arrivalAirportWanted:"Arrivée...")+" ")]),a("div",{staticClass:"dropdown-content"},t._l(t.arrivalAirports,(function(e){return a("a",{key:e.id},[a("a",{on:{click:function(a){t.arrivalAirportWanted=e}}},[t._v(t._s(e))])])})),0)])])])},P=[],S=(a("99af"),a("4de4"),a("4160"),a("caad"),a("a9e3"),a("2532"),a("159b"),a("2909")),O=(a("96cf"),a("1da1")),R=a("bc3a"),$=a.n(R),F={data:function(){return{flights:[],flightsShown:[],departureAirports:["Tout aéroport"],arrivalAirports:["Tout aéroport"],departureAirportWanted:void 0,arrivalAirportWanted:void 0,loaded:!1}},mounted:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getFlights(),t.loaded=!0;case 2:case"end":return e.stop()}}),e)})))()},methods:{getFlights:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("".concat("http://localhost:3000/api","/flight"));case 2:a=e.sent,r=a.data,t.flights=r.sort((function(t,e){return new Date(t.departureDate).getTime()-new Date(e.departureDate).getTime()})),t.flights.forEach((function(e){t.departureAirports.includes(e.departureAirport)||t.departureAirports.push(e.departureAirport),t.arrivalAirports.includes(e.arrivalAirport)||t.arrivalAirports.push(e.arrivalAirport)})),t.flightsShown=Object(S["a"])(t.flights);case 7:case"end":return e.stop()}}),e)})))()},showAirportFullName:function(t){return"CDG"==t?"Paris (Charles de gaulle)":"FRA"==t?"Francfort":"BCN"==t?"Barcelone":"MAD"==t?"Madrid":"IST"==t?"Istanbul":"AMS"==t?"Amsterdam":"MUC"==t?"Munich":"LHR"==t?"Londres (Heathrow)":"LGW"==t?"Londres (Gatwick)":void 0},showDate:function(t){var e=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],a=new Date(t),r=a.getDate(),n=a.getFullYear(),s=e[a.getMonth()],i=a.getHours(),o=a.getMinutes();return"".concat(r," ").concat(s," ").concat(n," ").concat(this.round(i),":").concat(this.round(o))},round:function(t){return Number(t)<10?"0".concat(t):t},deleteFlight:function(t){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,$.a.post("".concat("http://localhost:3000/api","/delete/flight"),{id:t});case 2:e.getFlights();case 3:case"end":return a.stop()}}),a)})))()},detailsFlight:function(t){this.$router.push("/flight/".concat(t))},filterFlight:function(){var t=this;this.flightsShown=Object(S["a"])(this.flights),this.departureAirportWanted&&"Tout aéroport"!=this.departureAirportWanted&&(this.flightsShown=this.flightsShown.filter((function(e){return e.departureAirport==t.departureAirportWanted}))),this.arrivalAirportWanted&&"Tout aéroport"!=this.arrivalAirportWanted&&(this.flightsShown=this.flightsShown.filter((function(e){return e.arrivalAirport==t.arrivalAirportWanted})))},bookFlight:function(t){this.$router.push("/book/".concat(t))}},watch:{departureAirportWanted:{handler:"filterFlight",deep:!0},arrivalAirportWanted:{handler:"filterFlight",deep:!0}}},M=F,E=Object(u["a"])(M,D,P,!1,null,null,null),z=E.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loaded?a("section",{staticClass:"chart-content"},[t.loaded?a("div",{staticClass:"panel-row"},[a("availablePlanes",{staticClass:"panel",attrs:{planes:t.planes}}),a("revenuesByLines",{staticClass:"panel",attrs:{tickets:t.tickets,flights:t.flights,planes:t.planes}})],1):t._e(),t.loaded?a("div",{staticClass:"panel-row"},[a("airportBusiness",{staticClass:"panel",attrs:{flights:t.flights}}),a("planeFilling",{staticClass:"panel",attrs:{flights:t.flights,planes:t.planes}})],1):t._e()]):t._e()},W=[],T=(a("13d5"),a("fb6a"),a("1fca")),q={},I={scales:{yAxes:[{ticks:{beginAtZero:!0}}]},title:{display:!0,text:"Available Planes"},legend:{display:!1}},V=["rgba(255, 99, 132,0.4)","rgba(54, 162, 235, 0.4)","rgba(255, 206, 86, 0.4)","rgba(75, 192, 192, 0.4)","rgba(153, 102, 255, 0.4)","rgba(255, 159, 64, 0.4)"],B=["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],G={extends:T["a"],props:["planes"],mounted:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var a,r,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(s in a=t.planes.data.reduce((function(t,e){var a=e.type;return null==a||(a in t||(t[a]=0),t[a]++),t}),{}),r=[],n=[],a)n.push(s),r.push(a[s]);i=r.length,q={labels:n,datasets:[{data:r,backgroundColor:V.slice(0,i),borderColor:B.slice(0,i),borderWidth:1}]},t.renderChart(q,I);case 7:case"end":return e.stop()}}),e)})))()}},H=G,J=Object(u["a"])(H,w,j,!1,null,null,null),U=J.exports,Q=(a("7db0"),a("a15b"),{}),Y={scales:{yAxes:[{ticks:{beginAtZero:!0}}]},title:{display:!0,text:"Revenues from air lines (€)"},legend:{display:!1}},Z={extends:T["a"],props:["tickets","flights","planes"],mounted:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var a,r,n,s,i,o,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(s in a=t.tickets.data.reduce((function(t,e){var a=e.flightId;return null==a||(a in t||(t[a]=0),t[a]++),t}),{}),r={},n=function(e){i=t.flights.data.find((function(t){return t.id==e}));var n=[i.departureAirport,i.arrivalAirport].sort().join("-");n in r||(r[n]=0),r[n]+=i.price*a[e]},a)n(s);for(c in o=[],l=[],r)l.push(c),o.push(r[c]);Q={labels:l,datasets:[{data:o,backgroundColor:"rgba(133, 187, 101,0.4)",borderColor:"rgba(0, 0, 0,,1)",borderWidth:1}]},t.renderChart(Q,Y);case 9:case"end":return e.stop()}}),e)})))()}},K=Z,X=Object(u["a"])(K,_,y,!1,null,null,null),tt=X.exports,et={},at={title:{display:!0,text:"Business of airports this week"}},rt=["rgba(255, 99, 132,0.4)","rgba(54, 162, 235, 0.4)","rgba(255, 206, 86, 0.4)","rgba(75, 192, 192, 0.4)","rgba(153, 102, 255, 0.4)","rgba(255, 159, 64, 0.4)"],nt=["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],st={extends:T["b"],props:["flights"],mounted:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var a,r,n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(s in a=t.flights.data.reduce((function(t,e){var a=e.departureAirport,r=e.arrivalAirport;if(null==a||null==r)return t;a in t||(t[a]=0),r in t||(t[r]=0);var n=new Date(e.departureDate);return n.getTime()<Date.now()+6048e5&&(t[a]++,t[r]++),t}),{}),r=[],n=[],a)n.push(s),r.push(a[s]);i=r.length,et={labels:n,datasets:[{label:{display:!1},data:r,backgroundColor:rt.slice(0,i),borderColor:nt.slice(0,i)}]},t.renderChart(et,at);case 7:case"end":return e.stop()}}),e)})))()}},it=st,ot=Object(u["a"])(it,k,C,!1,null,null,null),lt=ot.exports,ct=(a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0"),{}),ut={title:{display:!0,text:"Airplane filling by types"}},dt={extends:T["c"],props:["planes","flights"],mounted:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var a,r,n,s,i,o,l,c,u,d,p,m,f,v,h,b,g,w,j,_,y,k,C,N,A,x,D;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a={},r=!0,n=!1,s=void 0,e.prev=4,i=t.planes.data[Symbol.iterator]();!(r=(o=i.next()).done);r=!0)l=o.value,a[l.id]={type:l.type,capacity:l.capacity};e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](4),n=!0,s=e.t0;case 12:e.prev=12,e.prev=13,r||null==i.return||i.return();case 15:if(e.prev=15,!n){e.next=18;break}throw s;case 18:return e.finish(15);case 19:return e.finish(12);case 20:for(c={},u=!0,d=!1,p=void 0,e.prev=24,m=t.flights.data[Symbol.iterator]();!(u=(f=m.next()).done);u=!0)v=f.value,h=new Date(v.departureDate),h.getTime()<Date.now()+6048e5&&(b=v.planeId,g=v.emptyPlaces,w=a[b].capacity,j=a[b].type,j in c||(c[j]=[]),c[j].push((w-g)/w));e.next=32;break;case 28:e.prev=28,e.t1=e["catch"](24),d=!0,p=e.t1;case 32:e.prev=32,e.prev=33,u||null==m.return||m.return();case 35:if(e.prev=35,!d){e.next=38;break}throw p;case 38:return e.finish(35);case 39:return e.finish(32);case 40:for(_ in c)y=c[_].length,c[_]=c[_].reduce((function(t,e){return e+t}))/y;for(N in k=[],C=[],c)C.push(N),k.push(c[N]);for(A=k.length,x=new Array(A),D=0;D<A;D++)x[D]=.9;ct={labels:C,datasets:[{label:"Airplane filling",data:k,backgroundColor:"rgba(187, 101, 133,0.4)",borderColor:"rgba(0, 0, 0,1)",borderWidth:1},{label:"Ideal fitting",data:x,backgroundColor:"rgba(133, 187, 101,0)",borderColor:"rgba(133, 187, 101,1)",borderWidth:1}]},t.renderChart(ct,ut);case 49:case"end":return e.stop()}}),e,null,[[4,8,12,20],[13,,15,19],[24,28,32,40],[33,,35,39]])})))()}},pt=dt,mt=Object(u["a"])(pt,N,A,!1,null,null,null),ft=mt.exports,vt={components:{AvailablePlanes:U,RevenuesByLines:tt,AirportBusiness:lt,PlaneFilling:ft},data:function(){return{tickets:void 0,planes:void 0,flights:void 0,loaded:!1}},mounted:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("".concat("http://localhost:3000/api","/ticket"));case 2:return t.tickets=e.sent,e.next=5,$.a.get("".concat("http://localhost:3000/api","/plane"));case 5:return t.planes=e.sent,e.next=8,$.a.get("".concat("http://localhost:3000/api","/flight"));case 8:t.flights=e.sent,t.loaded=!0;case 10:case"end":return e.stop()}}),e)})))()}},ht=vt,bt=Object(u["a"])(ht,L,W,!1,null,null,null),gt=bt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"main-content"},[a("button",{staticClass:"design-button blue-button",on:{click:function(e){return t.$router.push("/flight-creator")}}},[t._v("Créer un vol")]),a("button",{staticClass:"design-button blue-button",on:{click:function(e){return t.$router.push("/")}}},[t._v("Voir les vols")]),a("button",{staticClass:"design-button blue-button",on:{click:function(e){return t.$router.push("/generate")}}},[t._v("Générer des données d'étude")]),a("button",{staticClass:"design-button blue-button",on:{click:function(e){return t.$router.push("/statistics")}}},[t._v("Statistiques")])])},jt=[],_t={},yt=_t,kt=Object(u["a"])(yt,wt,jt,!1,null,null,null),Ct=kt.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loaded?a("section",{staticClass:"main-content"},[a("div",{staticClass:"form"},[a("h1",[t._v("Création de vol")]),t.departureAirport&&t.departureAirport.name?a("div",{staticClass:"item"},[a("strong",[t._v("Départ")]),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"dropbtn"},[t._v(t._s(t.departureAirport.name))]),a("div",{staticClass:"dropdown-content"},t._l(t.airports,(function(e){return a("a",{key:e.id},[a("a",{on:{click:function(a){t.departureAirport=e}}},[t._v(t._s(e.name))])])})),0)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.departureDate.day,expression:"departureDate.day"}],attrs:{type:"date",min:t.minimumDate},domProps:{value:t.departureDate.day},on:{input:function(e){e.target.composing||t.$set(t.departureDate,"day",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.departureDate.time,expression:"departureDate.time"}],attrs:{type:"time"},domProps:{value:t.departureDate.time},on:{input:function(e){e.target.composing||t.$set(t.departureDate,"time",e.target.value)}}})]):t._e(),t.arrivalAirport&&t.arrivalAirport.name?a("div",{staticClass:"item"},[a("strong",[t._v("Arrivée")]),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"dropbtn"},[t._v(t._s(t.arrivalAirport.name))]),a("div",{staticClass:"dropdown-content"},t._l(t.airports,(function(e){return a("a",{key:e.id},[a("a",{on:{click:function(a){t.arrivalAirport=e}}},[t._v(t._s(e.name))])])})),0)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.arrivalDate.day,expression:"arrivalDate.day"}],attrs:{type:"date",disabled:""},domProps:{value:t.arrivalDate.day},on:{input:function(e){e.target.composing||t.$set(t.arrivalDate,"day",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.arrivalDate.time,expression:"arrivalDate.time"}],attrs:{type:"time",disabled:""},domProps:{value:t.arrivalDate.time},on:{input:function(e){e.target.composing||t.$set(t.arrivalDate,"time",e.target.value)}}})]):t._e(),t.planes?a("div",{staticClass:"item"},[a("strong",[t._v("Avion")]),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"dropbtn"},[t._v(" "+t._s(t.chosenPlane?"N°"+t.chosenPlane.id+" - "+t.chosenPlane.type:"Parcourir...")+" ")]),a("div",{staticClass:"dropdown-content"},t._l(t.planes,(function(e){return a("a",{key:e.id},[a("a",{on:{click:function(a){t.chosenPlane=e}}},[t._v("N°"+t._s(e.id)+" - "+t._s(e.type)+" - "+t._s(e.capacity))])])})),0)])]):t._e(),t.pilotsShown?a("div",{staticClass:"item"},[a("strong",[t._v("Pilotes")]),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"dropbtn"},[t._v(" "+t._s(t.pilot1?t.pilot1.firstName+" "+t.pilot1.lastName:"Pilote n°1...")+" ")]),a("div",{staticClass:"dropdown-content"},t._l(t.pilotsShown,(function(e){return a("a",{key:e.secuNum},[a("a",{on:{click:function(a){t.pilot1=e}}},[t._v(t._s(e.firstName+" "+e.lastName))])])})),0)]),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"dropbtn"},[t._v(" "+t._s(t.pilot2?t.pilot2.firstName+" "+t.pilot2.lastName:"Pilote n°2...")+" ")]),a("div",{staticClass:"dropdown-content"},t._l(t.pilotsShown,(function(e){return a("a",{key:e.secuNum},[a("a",{on:{click:function(a){t.pilot2=e}}},[t._v(t._s(e.firstName+" "+e.lastName))])])})),0)])]):t._e(),t.stewartsShown?a("div",{staticClass:"item"},[a("strong",[t._v("Stewarts")]),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"dropbtn"},[t._v(" "+t._s(t.stewart1?t.stewart1.firstName+" "+t.stewart1.lastName:"Stewart n°1...")+" ")]),a("div",{staticClass:"dropdown-content"},t._l(t.stewartsShown,(function(e){return a("a",{key:e.secuNum},[a("a",{on:{click:function(a){t.stewart1=e}}},[t._v(t._s(e.firstName+" "+e.lastName))])])})),0)]),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"dropbtn"},[t._v(" "+t._s(t.stewart2?t.stewart2.firstName+" "+t.stewart2.lastName:"Stewart n°2...")+" ")]),a("div",{staticClass:"dropdown-content"},t._l(t.stewartsShown,(function(e){return a("a",{key:e.secuNum},[a("a",{on:{click:function(a){t.stewart2=e}}},[t._v(t._s(e.firstName+" "+e.lastName))])])})),0)])]):t._e(),a("div",{staticClass:"item"},[a("strong",[t._v("Prix du billet")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{type:"number",min:"0",placeholder:"Prix en centimes"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),a("div",{staticClass:"item"},[a("strong",[t._v("Fréquence")]),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"dropbtn"},[t._v(" "+t._s(t.frequency)+" ")]),a("div",{staticClass:"dropdown-content"},t._l(t.frequencyChoice,(function(e){return a("a",{key:e.id},[a("a",{on:{click:function(a){t.frequency=e}}},[t._v(t._s(e))])])})),0)])]),a("button",{staticClass:"design-button green-button",on:{click:t.validate}},[t._v(" Valider ")]),a("button",{staticClass:"design-button blue-button",on:{click:function(e){return t.$router.push("/admin")}}},[t._v(" Retour ")])])]):t._e()},At=[],xt=(a("b0c0"),a("5530")),Dt={data:function(){return{airports:void 0,planes:void 0,departureAirport:void 0,arrivalAirport:void 0,departureDate:{day:void 0,time:void 0},arrivalDate:{day:void 0,time:void 0},chosenPlane:void 0,employees:void 0,pilots:void 0,stewarts:void 0,pilotsShown:void 0,stewartsShown:void 0,pilot1:void 0,pilot2:void 0,stewart1:void 0,stewart2:void 0,price:void 0,frequencyChoice:["Vol unique","Quotidien","Hebdomadaire"],frequency:"Vol unique",loaded:!1}},mounted:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("".concat("http://localhost:3000/api","/flight/airports"));case 2:return a=e.sent,e.next=5,$.a.get("".concat("http://localhost:3000/api","/plane"));case 5:return r=e.sent,e.next=8,$.a.get("".concat("http://localhost:3000/api","/employee"));case 8:n=e.sent,t.airports=a.data,t.departureAirport=t.airports[0],t.arrivalAirport=t.airports[0],t.planes=r.data,t.employees=n.data,t.pilots=t.employees.filter((function(t){return"pilot"==t.job})),t.stewarts=t.employees.filter((function(t){return"stewart"==t.job})),t.pilotsShown=Object(xt["a"])({},t.pilots),t.stewartsShown=Object(xt["a"])({},t.stewarts),t.loaded=!0;case 19:case"end":return e.stop()}}),e)})))()},methods:{filterEmployee:function(){var t=this;(this.pilot1||this.pilot2)&&(this.pilotsShown=this.pilots.filter((function(e){return(!t.pilot1||t.pilot1&&e.secuNum!=t.pilot1.secuNum)&&(!t.pilot2||t.pilot2&&e.secuNum!=t.pilot2.secuNum)}))),(this.stewart1||this.stewart2)&&(this.stewartsShown=this.stewarts.filter((function(e){return(!t.stewart1||t.stewart1&&e.secuNum!=t.stewart1.secuNum)&&(!t.stewart2||t.stewart2&&e.secuNum!=t.stewart2.secuNum)})))},calculArrivalDate:function(){var t=this;if(this.departureAirport&&this.arrivalAirport&&this.departureAirport!=this.arrivalAirport&&this.departureDate.day&&this.departureDate.time){var e=this.airports.find((function(e){return e.name==t.departureAirport.name})).travel.find((function(e){return e.to==t.arrivalAirport.name})).time,a=new Date(new Date(String(this.departureDate.day)+" "+String(this.departureDate.time)).getTime()+6e4*e),r="".concat(a.getFullYear(),"-").concat(this.round(a.getMonth()+1),"-").concat(this.round(a.getDate())),n="".concat(this.round(a.getHours()),":").concat(this.round(a.getMinutes()));this.arrivalDate={day:r,time:n}}else this.arrivalDate={day:void 0,time:void 0}},round:function(t){return Number(t)<10?"0".concat(t):t},validate:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var a,r,n,s,i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a="",t.arrivalDate.day||(a+="\n - La date d'arrivée (calculée avec l'heure de départ et les noms des aéroports)"),t.chosenPlane||(a+="\n - L'avion choisi"),t.pilot1||(a+="\n - Le premier pilote"),t.pilot2||(a+="\n - Le deuxième pilote"),t.stewart1||(a+="\n - Le premier stewart"),t.stewart2||(a+="\n - Le deuxième stewart"),t.price||(a+="\n - Le prix du billet"),""==a){e.next=13;break}a="Il manque les informations suivantes :"+a,alert(a),e.next=35;break;case 13:if("Vol unique"!=t.frequency){e.next=18;break}return e.next=16,$.a.post("".concat("http://localhost:3000/api","/flight/create"),{departureAirport:t.departureAirport.name,arrivalAirport:t.arrivalAirport.name,departureDate:new Date(t.departureDate.day+" "+t.departureDate.time),arrivalDate:new Date(t.arrivalDate.day+" "+t.arrivalDate.time),planeId:t.chosenPlane.id,pilot1:t.pilot1.secuNum,pilot2:t.pilot2.secuNum,stewart1:t.stewart1.secuNum,stewart2:t.stewart2.secuNum,price:Number(t.price),emptyPlaces:t.chosenPlane.capacity});case 16:e.next=25;break;case 18:for(r={departureAirport:t.departureAirport.name,arrivalAirport:t.arrivalAirport.name,departureDate:new Date(t.departureDate.day+" "+t.departureDate.time),arrivalDate:new Date(t.arrivalDate.day+" "+t.arrivalDate.time),planeId:t.chosenPlane.id,pilot1:t.pilot1.secuNum,pilot2:t.pilot2.secuNum,stewart1:t.stewart1.secuNum,stewart2:t.stewart2.secuNum,price:Number(t.price),emptyPlaces:t.chosenPlane.capacity},n=[],s="Quotidien"==t.frequency?864e5:6048e5,i="Quotidien"==t.frequency?28:4,o=0;o<i;o++)l=Object(xt["a"])({},r),l.departureDate=new Date(r.departureDate.getTime()+s*o),l.arrivalDate=new Date(r.arrivalDate.getTime()+s*o),n.push(l);return e.next=25,$.a.post("".concat("http://localhost:3000/api","/flight/createMany"),{flightList:n});case 25:alert("Vol(s) créé(s) avec succès !"),t.departureDate={day:void 0,time:void 0},t.arrivalDate={day:void 0,time:void 0},t.chosenPlane=void 0,t.pilot1=void 0,t.pilot2=void 0,t.stewart1=void 0,t.stewart2=void 0,t.price=void 0,t.frequency="Vol unique";case 35:case"end":return e.stop()}}),e)})))()}},watch:{departureAirport:{handler:"calculArrivalDate",deep:!0},arrivalAirport:{handler:"calculArrivalDate",deep:!0},departureDate:{handler:"calculArrivalDate",deep:!0},pilot1:{handler:"filterEmployee",deep:!0},pilot2:{handler:"filterEmployee",deep:!0},stewart1:{handler:"filterEmployee",deep:!0},stewart2:{handler:"filterEmployee",deep:!0}},computed:{minimumDate:function(){var t=new Date(Date.now());return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())}}},Pt=Dt,St=Object(u["a"])(Pt,Nt,At,!1,null,null,null),Ot=St.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"main-content"},[a("h1",[t._v("Générer des données d'étude")]),a("div",{staticClass:"item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.employeeNumber,expression:"employeeNumber"}],attrs:{type:"number",min:"0"},domProps:{value:t.employeeNumber},on:{input:function(e){e.target.composing||(t.employeeNumber=e.target.value)}}}),a("button",{staticClass:"blue-button",on:{click:t.generateEmployees}},[t._v(" Créer des employées ")])]),a("div",{staticClass:"item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.planeNumber,expression:"planeNumber"}],attrs:{type:"number",min:"0"},domProps:{value:t.planeNumber},on:{input:function(e){e.target.composing||(t.planeNumber=e.target.value)}}}),a("button",{staticClass:"blue-button",on:{click:t.generatePlanes}},[t._v(" Créer des avions ")])]),a("div",{staticClass:"item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.passengerNumber,expression:"passengerNumber"}],attrs:{type:"number",min:"0"},domProps:{value:t.passengerNumber},on:{input:function(e){e.target.composing||(t.passengerNumber=e.target.value)}}}),a("button",{staticClass:"blue-button",on:{click:t.generatePassengers}},[t._v(" Créer des clients ")])]),a("div",{staticClass:"item"},[a("button",{staticClass:"blue-button",on:{click:t.generateTickets}},[t._v(" Créer des billets (nombre aléatoire) ")])]),a("div",{staticClass:"item"},[a("button",{staticClass:"red-button",on:{click:t.deleteAllData}},[t._v(" Supprimer toutes les données ")])])])},$t=[],Ft={data:function(){return{employeeNumber:10,passengerNumber:1e3,planeNumber:5}},methods:{generateEmployees:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("".concat("http://localhost:3000/api","/generate/employee?num=").concat(t.employeeNumber));case 2:alert("".concat(t.employeeNumber," employés ont été créés"));case 3:case"end":return e.stop()}}),e)})))()},generatePlanes:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("".concat("http://localhost:3000/api","/generate/plane?num=").concat(t.planeNumber));case 2:alert("".concat(t.planeNumber," avions ont été créés"));case 3:case"end":return e.stop()}}),e)})))()},generatePassengers:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("".concat("http://localhost:3000/api","/generate/passenger?num=").concat(t.passengerNumber));case 2:alert("".concat(t.passengerNumber," clients ont été créés"));case 3:case"end":return e.stop()}}),e)})))()},generateTickets:function(){return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$.a.get("".concat("http://localhost:3000/api","/generate/ticket"));case 2:alert("Des billets ont été créés");case 3:case"end":return t.stop()}}),t)})))()},deleteAllData:function(){return Object(O["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=confirm("Voulez-vous vraiment supprimer tout le contenu de la base de données ?"),!e){t.next=5;break}return t.next=4,$.a.get("".concat("http://localhost:3000/api","/delete/all"));case 4:alert("Les données ont bien été supprimées");case 5:case"end":return t.stop()}}),t)})))()}}},Mt=Ft,Et=Object(u["a"])(Mt,Rt,$t,!1,null,null,null),zt=Et.exports,Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.flight?a("section",{staticClass:"main-content"},[a("strong",{staticClass:"item"},[t._v(" Veuillez remplir ce formulaire pour le vol ")]),a("strong",{staticClass:"item"},[t._v(" "+t._s(t.showAirportFullName(t.flight.departureAirport))+" -> "+t._s(t.showAirportFullName(t.flight.arrivalAirport))+" ")]),a("div",{staticClass:"item"},[t._v("Nom "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lastName,expression:"lastName"}],attrs:{type:"text"},domProps:{value:t.lastName},on:{input:function(e){e.target.composing||(t.lastName=e.target.value)}}})]),a("div",{staticClass:"item"},[t._v("Prénom "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.firstName,expression:"firstName"}],attrs:{type:"text"},domProps:{value:t.firstName},on:{input:function(e){e.target.composing||(t.firstName=e.target.value)}}})]),a("div",{staticClass:"item"},[t._v("Adresse "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],attrs:{type:"text"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})]),a("a",{staticClass:"design-button green-button",on:{click:t.book}},[t._v("Valider")]),a("a",{staticClass:"design-button blue-button",on:{click:function(e){return t.$router.push("/")}}},[t._v("Retour")])]):t._e()},Wt=[],Tt={data:function(){return{firstName:void 0,lastName:void 0,address:void 0,flight:void 0}},mounted:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$.a.post("".concat("http://localhost:3000/api","/flight"),{id:t.$route.params.flightId});case 2:a=e.sent,r=a.data,null==r&&t.$router.push("/"),t.flight=r;case 6:case"end":return e.stop()}}),e)})))()},methods:{book:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a="",t.firstName||(a+="\n - Votre prénom"),t.lastName||(a+="\n - Votre nom"),t.address||(a+="\n - Votre adresse"),""==a){e.next=9;break}a="Il manque les informations suivantes :"+a,alert(a),e.next=20;break;case 9:return e.next=11,$.a.post("".concat("http://localhost:3000/api","/passenger/create"),{firstName:t.firstName,lastName:t.lastName,address:t.address});case 11:if(r=e.sent,r.data.alreadyExists){e.next=19;break}return e.next=15,$.a.post("".concat("http://localhost:3000/api","/ticket/create"),{passengerId:r.data.id,flightId:t.flight.id});case 15:alert("Vol réservé"),t.$router.push("/"),e.next=20;break;case 19:alert("Ce client a déjà réservé ce vol");case 20:case"end":return e.stop()}}),e)})))()},showAirportFullName:function(t){return"CDG"==t?"Paris (Charles de gaulle)":"FRA"==t?"Francfort":"BCN"==t?"Barcelone":"MAD"==t?"Madrid":"IST"==t?"Istanbul":"AMS"==t?"Amsterdam":"MUC"==t?"Munich":"LHR"==t?"Londres (Heathrow)":"LGW"==t?"Londres (Gatwick)":void 0}}},qt=Tt,It=Object(u["a"])(qt,Lt,Wt,!1,null,null,null),Vt=It.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.flight?a("section",{staticClass:"main-content"},[a("strong",{staticClass:"item"},[t._v(" Vol de "+t._s(t.showAirportFullName(t.flight.departureAirport))+" vers "+t._s(t.showAirportFullName(t.flight.arrivalAirport))+" ")]),t.pilotsShown?a("div",{staticClass:"item"},[a("strong",[t._v("Pilotes")]),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"dropbtn"},[t._v(" "+t._s(t.pilot1?t.pilot1.firstName+" "+t.pilot1.lastName:"Pilote n°1...")+" ")]),a("div",{staticClass:"dropdown-content"},t._l(t.pilotsShown,(function(e){return a("a",{key:e.secuNum},[a("a",{on:{click:function(a){t.pilot1=e}}},[t._v(t._s(e.firstName+" "+e.lastName))])])})),0)]),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"dropbtn"},[t._v(" "+t._s(t.pilot2?t.pilot2.firstName+" "+t.pilot2.lastName:"Pilote n°2...")+" ")]),a("div",{staticClass:"dropdown-content"},t._l(t.pilotsShown,(function(e){return a("a",{key:e.secuNum},[a("a",{on:{click:function(a){t.pilot2=e}}},[t._v(t._s(e.firstName+" "+e.lastName))])])})),0)])]):t._e(),t.stewartsShown?a("div",{staticClass:"item"},[a("strong",[t._v("Stewarts")]),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"dropbtn"},[t._v(" "+t._s(t.stewart1?t.stewart1.firstName+" "+t.stewart1.lastName:"Stewart n°1...")+" ")]),a("div",{staticClass:"dropdown-content"},t._l(t.stewartsShown,(function(e){return a("a",{key:e.secuNum},[a("a",{on:{click:function(a){t.stewart1=e}}},[t._v(t._s(e.firstName+" "+e.lastName))])])})),0)]),a("div",{staticClass:"dropdown"},[a("button",{staticClass:"dropbtn"},[t._v(" "+t._s(t.stewart2?t.stewart2.firstName+" "+t.stewart2.lastName:"Stewart n°2...")+" ")]),a("div",{staticClass:"dropdown-content"},t._l(t.stewartsShown,(function(e){return a("a",{key:e.secuNum},[a("a",{on:{click:function(a){t.stewart2=e}}},[t._v(t._s(e.firstName+" "+e.lastName))])])})),0)])]):t._e(),a("div",{staticClass:"item"},[a("strong",[t._v("Prix du billet")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{type:"number",min:"0",placeholder:"Prix en centimes"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),a("div",{staticClass:"item"},[a("strong",[t._v("Passagers ("+t._s(t.passengers.length)+")")]),a("div",{staticClass:"passengers-view"},t._l(t.passengers,(function(e){return a("div",{key:e.id},[t._v(" "+t._s(e.firstName)+" "+t._s(e.lastName)+" ")])})),0)]),a("button",{staticClass:"design-button green-button",on:{click:t.validate}},[t._v(" Valider ")]),a("button",{staticClass:"design-button blue-button",on:{click:function(e){return t.$router.push("/")}}},[t._v(" Retour ")])]):t._e()},Gt=[],Ht={data:function(){return{flight:void 0,pilots:void 0,stewarts:void 0,pilotsShown:void 0,stewartsShown:void 0,pilot1:void 0,pilot2:void 0,stewart1:void 0,stewart2:void 0,price:void 0,passengers:void 0}},mounted:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$.a.post("".concat("http://localhost:3000/api","/flight"),{id:t.$route.params.flightId,withPassengers:!0});case 2:return a=e.sent,r=a.data,null==r&&t.$router.push("/"),t.flight=r,e.next=8,$.a.get("".concat("http://localhost:3000/api","/employee"));case 8:n=e.sent,t.employees=n.data,t.pilots=t.employees.filter((function(t){return"pilot"==t.job})),t.stewarts=t.employees.filter((function(t){return"stewart"==t.job})),t.pilotsShown=Object(xt["a"])({},t.pilots),t.stewartsShown=Object(xt["a"])({},t.stewarts),t.pilot1=t.pilots.find((function(e){return e.secuNum==t.flight.pilot1})),t.pilot2=t.pilots.find((function(e){return e.secuNum==t.flight.pilot2})),t.stewart1=t.stewarts.find((function(e){return e.secuNum==t.flight.stewart1})),t.stewart2=t.stewarts.find((function(e){return e.secuNum==t.flight.stewart2})),t.price=t.flight.price,t.passengers=t.flight.passengers;case 20:case"end":return e.stop()}}),e)})))()},methods:{filterEmployee:function(){var t=this;(this.pilot1||this.pilot2)&&(this.pilotsShown=this.pilots.filter((function(e){return(!t.pilot1||t.pilot1&&e.secuNum!=t.pilot1.secuNum)&&(!t.pilot2||t.pilot2&&e.secuNum!=t.pilot2.secuNum)}))),(this.stewart1||this.stewart2)&&(this.stewartsShown=this.stewarts.filter((function(e){return(!t.stewart1||t.stewart1&&e.secuNum!=t.stewart1.secuNum)&&(!t.stewart2||t.stewart2&&e.secuNum!=t.stewart2.secuNum)})))},showAirportFullName:function(t){return"CDG"==t?"Paris (Charles de gaulle)":"FRA"==t?"Francfort":"BCN"==t?"Barcelone":"MAD"==t?"Madrid":"IST"==t?"Istanbul":"AMS"==t?"Amsterdam":"MUC"==t?"Munich":"LHR"==t?"Londres (Heathrow)":"LGW"==t?"Londres (Gatwick)":void 0},validate:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$.a.post("".concat("http://localhost:3000/api","/flight/update"),{id:t.flight.id,pilot1:t.pilot1.secuNum,pilot2:t.pilot2.secuNum,stewart1:t.stewart1.secuNum,stewart2:t.stewart2.secuNum,price:t.price});case 2:alert("Vol modifié");case 3:case"end":return e.stop()}}),e)})))()}},watch:{pilot1:{handler:"filterEmployee",deep:!0},pilot2:{handler:"filterEmployee",deep:!0},stewart1:{handler:"filterEmployee",deep:!0},stewart2:{handler:"filterEmployee",deep:!0}}},Jt=Ht,Ut=Object(u["a"])(Jt,Bt,Gt,!1,null,null,null),Qt=Ut.exports;r["a"].use(b["a"]);var Yt=new b["a"]({mode:"history",routes:[{path:"/",name:"flights",component:z},{path:"/statistics",name:"statistics",component:gt,beforeEnter:function(t,e,a){x.state.admin?a():a("/")}},{path:"/admin",name:"admin",component:Ct,beforeEnter:function(t,e,a){x.state.admin?a():a("/")}},{path:"/flight-creator",name:"flight-creator",component:Ot,beforeEnter:function(t,e,a){x.state.admin?a():a("/")}},{path:"/generate",name:"generate",component:zt,beforeEnter:function(t,e,a){x.state.admin?a():a("/")}},{path:"/book/:flightId",name:"book",component:Vt},{path:"/flight/:flightId",name:"flight",component:Qt},{path:"*",component:z,beforeEnter:function(t,e,a){a("/")}}]});r["a"].config.productionTip=!1,new r["a"]({router:Yt,store:x,render:function(t){return t(h)}}).$mount("#app")},"85ec":function(t,e,a){}});
//# sourceMappingURL=app.029e864e.js.map